{
    "id": "texting",
    "annotation": [
        {
            "field": "contact",
            "type": "nextWordOfType",
            "startWord": "text",
            "wordType": "NNP",
            "groom": "",
            "requirement": []
        },
        {
            "field": "contact",
            "type": "nextWordOfType",
            "startWord": "text",
            "wordType": "NN",
            "groom": "",
            "requirement": []
        },
        {
            "field": "payload",
            "type": "everythingAfterWord",
            "startWord": "[contact]",
            "wordType": "NN",
            "groom": "messagePayload",
            "requirement": [],
            "word": "text"
        }
    ],
    "steps": [
        {
            "groom": "",
            "requirement": [
                {
                    "type": "typeof",
                    "field": "contact",
                    "operator": "!==",
                    "value": "undefined"
                },
                {
                    "type": "typeof",
                    "field": "textNumber",
                    "operator": "===",
                    "value": "undefined"
                }
            ],
            "config": {
                "field": "contact"
            },
            "module": "textNumberLookup"
        },
        {
            "requirement": [
                {
                    "type": "typeof",
                    "field": "contact",
                    "operator": "===",
                    "value": "undefined"
                }
            ],
            "reply": [
                "Who do you want to send it to?"
            ],
            "query": "contact"
        },
        {
            "query": "contactRetry",
            "groom": "",
            "reply": [
                "Not sure who [contact] is, try another name?"
            ],
            "requirement": [
                {
                    "type": "typeof",
                    "field": "textNumber",
                    "operator": "===",
                    "value": "undefined"
                },
                {
                    "type": "typeof",
                    "field": "contact",
                    "operator": "!==",
                    "value": "undefined"
                }
            ]
        },
        {
            "requirement": [
                {
                    "type": "typeof",
                    "field": "payload",
                    "operator": "===",
                    "value": "undefined"
                }
            ],
            "reply": [
                "What do you want it to say to [contact]?"
            ],
            "query": "payload",
            "groom": "messagePayload"
        },
        {
            "query": "confirm",
            "groom": "confirm",
            "reply": [
                "Text '[payload]' to '[contact]'. Is that correct?"
            ],
            "requirement": [
                {
                    "type": "typeof",
                    "field": "confirm",
                    "operator": "===",
                    "value": "undefined"
                }
            ],
            "validate": "confirm"
        },
        {
            "module": "texting",
            "reply": [],
            "query": "final"
        }
    ],
    "topic": "texting"
}